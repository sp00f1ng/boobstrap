<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Документация booty</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="style.css?">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;700&family=Open+Sans:ital,wght@0,400;0,700;1,600&display=swap" rel="stylesheet">
    
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>


</head>

<body>

    <div class="navbar clear nav-top">
        <div class="row content">
            <a href="#"><img class="logo" src="logo.jpg"></a>
            <a class="right" href="#top"><i class="fas fa-book"></i>&nbsp; CRUX.SU</a>
            <a class="right" href="mailto:spoofing@crux.su" target="_blank"><i class="fas fa-paper-plane"></i>&nbsp; spoofing@crux.su</a>
        </div>
    </div>

    <div class="container clear">
        <div class="row wrapper">

            <div class="sidepanel">

                <a class="title" href="#intro">Введение</a>
                
                <a class="section" href="#version">Текущая версия</a>
                <a class="section" href="#about">О приложении</a>

                <div class="divider left"></div>

                <a class="title" href="#gettingstarted">Начало работы</a>

                <a class="section" href="#setup">Установка</a>
                <a class="section" href="#quickstart">Быстрый запуск</a>

                <div class="divider left"></div>

                <a class="title" href="#api">Интерфейс</a>

                <a class="section" href="#booty-build">booty build</a>
                <a class="section" href="#booty-linux">booty linux</a>
                <a class="section" href="#booty-ramdisk">booty ramdisk</a>
                <a class="section" href="#booty-image">booty image</a>
                <a class="section" href="#booty-run">booty run</a>
                <a class="section" href="#import-export">import / export</a>

                <div class="divider left"></div>

                <a class="title" href="#bootoptions">Загрузка</a>

                <a class="section" href="#booty-init">booty.init</a>
                <a class="section" href="#booty-use-shmfs">booty.use-shmfs</a>
                <a class="section" href="#booty-use-overlayfs">booty.use-overlayfs</a>
                <a class="section" href="#booty-copy-to-ram">booty.copy-to-ram</a>
                <a class="section" href="#booty-search-rootfs">booty.search-rootfs</a>
                <a class="section" href="#booty-rootfs-changes">booty.rootfs-changes</a>

                <div class="divider left"></div>

                <a class="title" href="#examples">Примеры</a>

                <div class="divider left"></div>

                <a class="title" href="#moreinfo">Обратная связь</a>
            
             <div class="space double"></div>

            </div>

            <div class="right-col">

		<a name="intro"></a>
                <h1 >Введение</h1>
                
		<p>booty - это набор POSIX shell скриптов для создания загрузочных образов операционных систем.</p>

		<p>В названии приложения использовалась игра слов <b>boot</b> to an<b>y</b>, что значит "загружаться куда угодно". Приложение работает с любым дистрибутивом GNU/Linux. Благодаря строгому соблюдению POSIX shell синтаксиса, приложение легко переносимо на любую архитектуру и любое устройство, и работает везде, где установлен POSIX shell.</p>

                <ul>
                    <li>
                    Загружать любой дистрибутив в оперативную память.
                    </li>
                    <br>
                    <li>
                    Создать загрузочный USB-накопитель с любым дистрибутивом GNU/Linux.
                    </li>
                    <br>
                    <li>
                    Перенести контейнер из Docker в отдельный загрузочный образ ISO или загрузиться в Docker-контейнер с USB-накопителя.
                    </li>
                    <br>
                    <li>
                    Подготовить любой дистрибутив для загрузки по сети с использованием PXE-технологий.
                    </li>
                    <br>
                </ul>

		<a name="version"></a>
                <h2>Текущая версия</h2>
             
		<p><b>booty2 != booty 2.0</b></p>

		<a name="about"></a>
                <h2>О приложении</h2>
                
                <p>booty проводит весь процесс создания загрузочного образа "от" и "до". В отличии от других подобного рода приложений, booty имеет интуитивно простой и понятный интерфейс: нужно только указать директорию с установленной системой, чтобы получить загрузочный образ с этой системой.</p>

                   <ul>
                    <li>
                    booty собирает ядро для операционной системы: проверяет наличие последней версии ядра, скачивает исходный код, компилирует и устанавливает.
                    </li>
                    <br>
                     <li>
                    booty собирает первичный RAM-диск (initrd или initramfs) с системой, беря за основу хост-систему, где выполняется сборка загрузочного образа.
                    </li>
                    <br>
                     <li>
                    booty создаёт файловую систему, копируя указанные пользователем данные. Поддерживается множество различных файловых систем, одна из которых SquashFS, но так же есть возможность обойтись без файловых систем вовсе.
                    </li>
                    <br>
                    <li>
                    booty создаёт универсальный загрузочный образ с системой, который вы можете записать на USB-накопитель, либо вы можете предоставить данные из образа для дальнейшей загрузки по сети (PXE).
                    </li>
                    <br>
                </ul>

		<p>booty предлагает новую философию в дистрибутиво-строении, полностью ломая все старые привычки использования операционных систем.</p>

                   <ul>
                    <li>
                    Для создания загрузочного образа с системой нужно выполнить всего одну команду.
                    </li>
                    <br>
                     <li>
                    Система настраивается на локальном компьютере. По-желанию тестируется в виртуальной машине на предмет работоспособности. Далее создаётся образ с системой и с ним можно загрузиться в любом месте. Система загружается уже настроенной и сразу после загрузки начинает решать задачи.
                    </li>
                    <br>
                     <li>
                    Система может быть развёрнута на любом количестве машин, ничто не мешает строить целые кластеры из однотипных систем, загружая один и тот-же предварительно настроенный образ.
                    </li>
                    <br>
                    <li>
                    Система загружается в оперативную память, вам больше не нужны дисковые накопители. Оперативная память - это и скорость работы, и износоустойчивость, и отказоустойчивость.
                    </li>
                    <br>
                     <li>
                    Система одноразовая. Система загружается и работает до момента перезагрузки. Парадокс, но вы можете смело сломать систему, не боясь при этом ничего сломать.
                    </li>
                    <br>
                     <li>
                    Резервное копирование системы больше не требуется. Загружаемая система и есть резервная копия сама по себе.
                    </li>
                    <br>
                     <li>
                    Для обновления системы, переустановки или восстановления достаточно просто перезагрузиться, чтобы вернуть систему в исходное состояние.
                    </li>
                    <br>
                </ul>

                <p><b>Внимание:</b> Система работает ровно до момента перезагрузки, поэтому для хранения важных данных используйте облачные решения.</p>

                <p>Система загруженная с помощью booty работает в оперативной памяти, но имеет ряд интересных особенностей.</p>

                <ul>
                    <li>
                    Система загружается с любого накопителя, например с USB-накопителя, система может целиком скопировать себя в оперативную память, а внешний USB-накопитель может быть извлечён из компьютера.
                    </li>
                    <br>
                    <li>
                    Система может быть загружена в чистое tmpfs, а может использовать Overlay FS, и во втором случае будет представлена вся история изменений, сделанных в процессе работы системы. В буквальном смысле, вы сможете контролировать каждый файл, созданный системой.
                    </li>
                    <br>
                    <li>
                    Система загружается в оперативную память, работает в оперативной памяти, но при этом есть возможность сохранить все изменения на любой диск или файловую систему. На том же USB-накопителе может быть создан обычный файл, отформатирован в любую файловую систему поддерживаемую ядром и использован для сохранения всех изменений.
                    </li>
                    <br>
                </ul>

        <div class="divider" style="width:24%; margin:30px 0;"></div>

                <h1>Начало работы</h1>

                <h2>Зависимости</h2>
                
                <p></p> 

                <p><b>Внимание:</b> Система работает ровно до момента перезагрузки, поэтому для хранения важных данных используйте облачные решения.</p>
                
                
                <h2>Установка</h2>
                
                <p>booty устанавливается в три очень простых шага, о которых можно было бы и не упоминать, но тем не менее.</p>
                
		<p><code># git clone https://github.com/sp00f1ng/booty</code></p>
		<p><code># cd booty/</code></p>
		<p><code># make DESTDIR=/usr install</code></p>

                <h2>Быстрый запуск</h2>
                
                <p>Возьмите любой дистрибутив GNU/Linux на ваш выбор. В качестве примера я предлагаю использовать Gentoo, но вы можете использовать любой установленный дистрибутив.</p>
                
		<p><code># wget https://bouncer.gentoo.org/fetch/root/all/releases/amd64/autobuilds/20210407T214504Z/stage3-amd64-20210407T214504Z.tar.xz</code></p>

		<p>Для установки Gentoo архив нужно просто распаковать.</p>

		<p><code># tar xpvf stage3-*.tar.xz --xattrs-include='*.*' --numeric-owner</code></p>

		<p>Gentoo установлена. Теперь для создания загрузочного образа нужно выполнить одну очень простую команду.</p>

		<p><code># booty build gentoo/</code></p>

		<p>Где <b>gentoo/</b> это директория, куда была распакована Gentoo.</p>

		<p>Подождите немного, пока booty соберёт все данные и выполнит сборку загрузочного образа. Первый раз это может занять очень продолжительное время, в зависимости от производительности вашего компьютера.</p>

		<p>После выполнения booty, вы увидите новый файл <b>BOOT-*.ISO</b>, где вместо <b>*</b> будет название используемой вами архитектуры.</p>

		<p>Для запуска системы и проверки работоспособности загрузочного образа используйте виртуальную машину.</p>
                
		<p><code># qemu-system-x86_64 -cdrom BOOT-*.ISO</code></p>
                    
            <div class="divider" style="width:24%; margin:30px 0;"></div>
            
                <h1>Интерфейс</h1>

		<p>Вы можете использовать программный интерфейс для создания своих сценариев и сборок загрузочных образов. Например, если вы хотите собрать загрузочный образ со своими особенностями - создайт свой скрипт для сборки, используя данный интерфейс (API). Вместо одной команды выполните несколько, но за то это будет ваша личная сборка дистрибутива.</p>

		<p><b>Внимание:</b> официально поддерживается только команда <code>booty build</code>, которая гарантирует результат. Все остальные представленные ниже команды ничто иное как внутренний интерфейс (API), который может меняться (читай: ломаться) от версии к версии, но автор постарается не ломать интерфейс без необходимости.</p>

		<p><b>Пост-Скриптум:</b> К данному предупреждению не стоит относиться слишком серьёзно.</p>

                <h2>booty build</h2>

		<p>Команда выполняет весь цикл сборки загрузочного образа. Все представленные далее параметры и опции можно комбинировать между собой в любом соотношении.</p>
		
		<p><code># booty build ДИРЕКТОРИЯ ДИРЕКТОРИЯ ДИРЕКТОРИЯ ...</code></p>

		<p>Вы можете указать одну или несколько директорий, которые будут использованы для создания загрузочного образа.</p>
                
		<p><code># booty build ОБРАЗ ДИРЕКТОРИЯ ...</code></p>

		<p>Опционально, вы можете указать название файла с образом в начале или конце списка.</p>

		<p>Значение по-умолчанию: <code>BOOT-$(uname -m).ISO</code></p>

		<p><code># booty build ДИРЕКТОРИЯ -- ПАРАМЕТРЫ ЗАГРУЗКИ</code></p>

		<p>Через два минуса <code>--</code> вы можете задать параметры загрузки, которые будут использованы загрузчиком.</p>

		<p>По-умолчанию вам будет предложено стандартное меню загрузчика с небольшой задержкой и список из нескольких вариантов для загрузки с различными опциями, но если установить параметры загрузки, то тогда система будет загружена моментально с указанными параметрами.</p>

		<p>Список всех параметров указан в разделе <a href="#bootoptions">Загрузка</a>.</p>
                
                <h2>booty linux</h2>

		<p></p>
                
                <h2>booty ramdisk</h2>

		<p></p>
                
                <h2>booty image</h2>

		<p></p>
                
                <h2>booty run</h2>

		<p></p>
                
                <h2>import / export</h2>

		<p></p>
                
                <div class="divider" style="width:24%; margin:30px 0;"></div>
                
                <h1>Загрузка</h1>
                
                <h2>booty.init</h2>

		<p></p>
                  
                <h2>booty.use-shmfs</h2>

		<p></p>
                  
                <h2>booty.use-overlayfs</h2>

		<p></p>
                  
                <h2>booty.copy-to-ram</h2>

		<p></p>
                  
                <h2>booty.search-rootfs</h2>

		<p></p>
                  
                <h2>booty.rootfs-changes</h2>

		<p></p>
                  
                <div class="divider" style="width:24%; margin:30px 0;"></div>
                   
                   <h1>Примеры</h1>
                   
                <div class="divider" style="width:24%; margin:30px 0;"></div>

                <h1>Обратная связь</h1>

		<p>По всем вопросам, пожеланиям и предложениям пишите на форуме <a href="https://www.linux.org.ru/forum/">www.linux.org.ru/forum/</a> с пометкой <b>booty</b>.</p>


            </div>

        </div>


    </div>


</body>

</html>
